<!DOCTYPE html>
<html lang="en" >
<div th:replace="~{app/header :: header}"></div>
<body>
<div class="loader-wrapper">
    <div class="loader">
        <div class="loader4"></div>
    </div>
</div>
<div class="tap-top"><i data-feather="chevrons-up"></i></div>
<div class="page-wrapper compact-wrapper" id="pageWrapper">
    <div class="page-header" bis_skin_checked="1">
        <div th:replace="~{app/nav :: nav}"></div>
    </div>
    <div class="page-body-wrapper">
        <div th:replace="~{admin/app/leftsider :: sider}"></div>
        <div class="page-body">
            <div class="container-fluid">
                <div class="page-title">
                    <div class="row">
                        <div class="col-6">
                            <h4>Trang Ch·ªß</h4>
                        </div>
                        <div class="col-6">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item active text-end" th:text="'S·ªë d∆∞: ' + ${money} + 'ƒë'">S·ªë D∆∞</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="list-product-header">
                                    <form class="d-flex align-items-end flex-wrap gap-3">
                                        <!-- üîç Input t√¨m ki·∫øm -->
                                        <div>
                                            <label for="search" class="form-label mb-1">T√¨m ki·∫øm</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="search"
                                                   name="search"
                                                   placeholder="Nh·∫≠p t·ª´ kh√≥a..." />
                                        </div>
                                        <!-- üîΩ Select ng√¢n h√†ng -->
                                        <div>
                                            <label for="bank-filter" class="form-label mb-1">Ch·ªçn ng√¢n h√†ng</label>
                                            <select class="form-select" id="bank-filter" aria-label="Ch·ªçn ng√¢n h√†ng">
                                                <option value="">T·∫•t c·∫£ ng√¢n h√†ng</option>
                                                <option th:each="bank : ${bankList}"
                                                        th:value="${bank.ngangHang}"
                                                        th:text="${bank.ngangHang}">
                                                </option>
                                            </select>
                                        </div>


                                        <!-- üîΩ Select tr·∫°ng th√°i -->
                                        <div>
                                            <label for="status-filter" class="form-label">L·ªçc theo tr·∫°ng th√°i:</label>
                                            <select class="form-select" id="status-filter">
                                                <option value="">T·∫•t c·∫£</option>
                                                <option value="hoatdong">Ho·∫°t ƒë·ªông</option>
                                                <option value="dunghoatdong">D·ª´ng ho·∫°t ƒë·ªông</option>
                                            </select>
                                        </div>
                                        <div>
                                            <button type="button"
                                                    class="btn btn-secondary"
                                                    id="btnReloadBank">
                                                <i class="fa fa-rotate-right"></i> Reload
                                            </button>
                                        </div>

                                        <div class="ms-auto">
                                            <!-- Label ·∫©n (ƒë·ªÉ canh d√≤ng) -->
                                            <label class="form-label mb-1 d-block invisible">Th√™m</label>

                                            <!-- ‚úÖ N√∫t m·ªü modal -->
                                            <button type="button"
                                                    class="btn btn-primary"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#modalAddBank"> <!-- Tr√πng v·ªõi ID modal -->
                                                <i class="fa fa-plus"></i> Th√™m ng√¢n h√†ng
                                            </button>
                                        </div>


                                    </form>
                                </div>


                                <div class="list-bank">
                                    <div class="datatable-wrapper datatable-loading no-footer sortable searchable fixed-columns">
                                        <div class="datatable-container">
                                            <table class="table datatable-table" id="bank-table">
                                                <thead>
                                                <tr>
                                                    <th style="text-align: center;"> <span class="f-light f-w-600"> </span></th>
                                                    <th style="text-align: center;"> <span class="f-light f-w-600">Ch·ªß t√†i kho·∫£n</span></th>
                                                    <th style="text-align: center;"> <span class="f-light f-w-600">S·ªë t√†i kho·∫£n</span></th>
                                                    <th style="text-align: center;"> <span class="f-light f-w-600">Ng√¢n h√†ng</span></th>
                                                    <th style="text-align: center;"> <span class="f-light f-w-600">Min N·∫°p</span></th>
                                                    <th style="text-align: center;"> <span class="f-light f-w-600">Tr·∫°ng th√°i</span></th>
                                                    <th style="text-align: center;"> <span class="f-light f-w-600">Action</span></th>
                                                </tr>
                                                </thead>

                                                <tbody>
                                                    <tr th:each="bank : ${bankList}" class="bank-row"
                                                        th:data-id="${bank.id}"
                                                        th:data-ctk="${bank.ctk}"
                                                        th:data-stk="${bank.stk}"
                                                        th:data-ngan-hang="${bank.ngangHang}"
                                                        th:data-min-nap="${bank.minNap}"
                                                        th:data-status="${bank.status}">

                                                        <td>
                                                            <div class="form-check">
                                                                <input class="form-check-input checkbox-primary" type="checkbox">
                                                            </div>
                                                        </td>

                                                        <td class="ctk" style="text-align: left;">
                                                            <span th:text="${bank.ctk}" class="one-line-ellipsis">Ch·ªß TK</span>
                                                        </td>

                                                        <td class="stk" style="text-align: center;">
                                                            <span th:text="${bank.stk}">STK</span>
                                                        </td>

                                                        <td class="nganHang" style="text-align: center;">
                                                            <span th:text="${bank.ngangHang}">Ng√¢n h√†ng</span>
                                                        </td>

                                                        <td class="minNap" style="text-align: center;">
                                                            <span th:text="${#numbers.formatInteger(bank.minNap, 0, 'POINT')}">Min N·∫°p</span>
                                                        </td>

                                                        <td class="status" th:attr="data-status=${bank.status}" style="text-align: center;">
                                                            <span th:classappend="${bank.status == 'hoatdong'} ? 'badge badge-light-success' : 'badge badge-light-danger'"
                                                                  th:text="${bank.status == 'hoatdong'} ? 'Ho·∫°t ƒë·ªông' : 'D·ª´ng ho·∫°t ƒë·ªông'">
                                                            </span>
                                                        </td>


                                                        <td>
                                                            <div class="product-action d-flex gap-2 justify-content-center">
                                                                <!-- N√∫t S·ª≠a -->
                                                                <button type="button"
                                                                        class="btn btn-sm btn-outline-primary edit-bank"
                                                                        title="S·ª≠a t√†i kho·∫£n">
                                                                    <i class="fa-solid fa-pen"></i>
                                                                    <span style="margin-left: 5px">Edit</span>
                                                                </button>

                                                                <!-- N√∫t X√≥a -->
                                                                <button type="button"
                                                                        class="btn btn-sm btn-outline-danger delete-bank"
                                                                        title="X√≥a t√†i kho·∫£n"
                                                                        th:attr="data-id=${bank.id}">
                                                                    <i class="fa-solid fa-trash"></i>
                                                                    <span style="margin-left: 5px">DELETE</span>
                                                                </button>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>






                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- Modal th√™m ng√¢n h√†ng -->
            <div class="modal fade" id="modalAddBank" tabindex="-1" aria-labelledby="modalAddBankLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">
                        <form id="formAddBankAjax">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalAddBankLabel">Th√™m t√†i kho·∫£n ng√¢n h√†ng</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
                            </div>

                            <div class="modal-body">
                                <!-- Ch·ªß t√†i kho·∫£n -->
                                <div class="mb-3">
                                    <label for="input-ctk" class="form-label">Ch·ªß t√†i kho·∫£n</label>
                                    <input type="text" class="form-control" name="ctk" id="input-ctk" required>
                                </div>

                                <!-- S·ªë t√†i kho·∫£n -->
                                <div class="mb-3">
                                    <label for="input-stk" class="form-label">S·ªë t√†i kho·∫£n</label>
                                    <input type="text" class="form-control" name="stk" id="input-stk" required>
                                </div>

                                <!-- Ng√¢n h√†ng -->
                                <div class="mb-3">
                                    <label for="select-nganHang" class="form-label">Ng√¢n h√†ng</label>
                                    <select class="form-select" name="ngangHang" id="select-nganHang" required>
                                        <option disabled selected>Ch·ªçn ng√¢n h√†ng</option>
                                        <option value="Agribank">Ng√¢n h√†ng N√¥ng nghi·ªáp v√† Ph√°t tri·ªÉn N√¥ng th√¥n Vi·ªát Nam (Agribank)</option>
                                        <option value="Vietcombank">Ng√¢n h√†ng TMCP Ngo·∫°i th∆∞∆°ng Vi·ªát Nam (Vietcombank)</option>
                                        <option value="VietinBank">Ng√¢n h√†ng TMCP C√¥ng th∆∞∆°ng Vi·ªát Nam (VietinBank)</option>
                                        <option value="BIDV">Ng√¢n h√†ng TMCP ƒê·∫ßu t∆∞ v√† Ph√°t tri·ªÉn Vi·ªát Nam (BIDV)</option>
                                        <option value="ACB">Ng√¢n h√†ng TMCP √Å Ch√¢u (ACB)</option>
                                        <option value="Techcombank">Ng√¢n h√†ng TMCP K·ªπ Th∆∞∆°ng Vi·ªát Nam (Techcombank)</option>
                                        <option value="MB">Ng√¢n h√†ng TMCP Qu√¢n ƒê·ªôi (MB)</option>
                                        <option value="Sacombank">Ng√¢n h√†ng TMCP S√†i G√≤n Th∆∞∆°ng T√≠n (Sacombank)</option>
                                        <option value="VPBank">Ng√¢n h√†ng TMCP Vi·ªát Nam Th·ªãnh V∆∞·ª£ng (VPBank)</option>
                                        <option value="HDBank">Ng√¢n h√†ng TMCP Ph√°t tri·ªÉn TP.HCM (HDBank)</option>
                                        <option value="SHB">Ng√¢n h√†ng TMCP S√†i G√≤n ‚Äì H√† N·ªôi (SHB)</option>
                                        <option value="SeABank">Ng√¢n h√†ng TMCP ƒê√¥ng Nam √Å (SeABank)</option>
                                        <option value="VIB">Ng√¢n h√†ng TMCP Qu·ªëc t·∫ø Vi·ªát Nam (VIB)</option>
                                        <option value="TPBank">Ng√¢n h√†ng TMCP Ti√™n Phong (TPBank)</option>
                                        <option value="OCB">Ng√¢n h√†ng TMCP Ph∆∞∆°ng ƒê√¥ng (OCB)</option>
                                        <option value="Eximbank">Ng√¢n h√†ng TMCP Xu·∫•t Nh·∫≠p Kh·∫©u Vi·ªát Nam (Eximbank)</option>
                                        <option value="LienVietPostBank">Ng√¢n h√†ng TMCP B∆∞u ƒëi·ªán Li√™n Vi·ªát (LienVietPostBank)</option>
                                        <option value="SCB">Ng√¢n h√†ng TMCP S√†i G√≤n (SCB)</option>
                                        <option value="MSB">Ng√¢n h√†ng TMCP H√†ng H·∫£i Vi·ªát Nam (MSB)</option>
                                        <option value="DongA Bank">Ng√¢n h√†ng TMCP ƒê√¥ng √Å (DongA Bank)</option>
                                        <option value="Nam A Bank">Ng√¢n h√†ng TMCP Nam √Å (Nam A Bank)</option>
                                        <option value="VietABank">Ng√¢n h√†ng TMCP Vi·ªát √Å (VietABank)</option>
                                        <option value="NCB">Ng√¢n h√†ng TMCP Qu·ªëc d√¢n (NCB)</option>
                                        <option value="Vietbank">Ng√¢n h√†ng TMCP Vi·ªát Nam Th∆∞∆°ng T√≠n (Vietbank)</option>
                                        <option value="ABBANK">Ng√¢n h√†ng TMCP An B√¨nh (ABBANK)</option>
                                        <option value="Bac A Bank">Ng√¢n h√†ng TMCP B·∫Øc √Å (Bac A Bank)</option>
                                        <option value="BaoViet Bank">Ng√¢n h√†ng TMCP B·∫£o Vi·ªát (BaoViet Bank)</option>
                                        <option value="PG Bank">Ng√¢n h√†ng TMCP XƒÉng d·∫ßu Petrolimex (PG Bank)</option>
                                        <option value="PVcomBank">Ng√¢n h√†ng TMCP ƒê·∫°i Ch√∫ng Vi·ªát Nam (PVcomBank)</option>
                                        <option value="Viet Capital Bank">Ng√¢n h√†ng TMCP B·∫£n Vi·ªát (Viet Capital Bank)</option>
                                        <option value="Saigonbank">Ng√¢n h√†ng TMCP S√†i G√≤n C√¥ng Th∆∞∆°ng (Saigonbank)</option>
                                        <option value="OceanBank">Ng√¢n h√†ng TNHH MTV ƒê·∫°i D∆∞∆°ng (OceanBank)</option>
                                        <option value="GPBank">Ng√¢n h√†ng TNHH MTV D·∫ßu kh√≠ To√†n C·∫ßu (GPBank)</option>
                                        <option value="CB">Ng√¢n h√†ng TNHH MTV X√¢y d·ª±ng Vi·ªát Nam (CB)</option>
                                        <option value="VBSP">Ng√¢n h√†ng Ch√≠nh s√°ch x√£ h·ªôi Vi·ªát Nam (VBSP)</option>
                                        <option value="VDB">Ng√¢n h√†ng Ph√°t tri·ªÉn Vi·ªát Nam (VDB)</option>
                                        <option value="Co-opBank">Ng√¢n h√†ng H·ª£p t√°c x√£ Vi·ªát Nam (Co-opBank)</option>
                                        <option value="Indovina Bank">Ng√¢n h√†ng TNHH Indovina (Indovina Bank)</option>
                                        <option value="VRB">Ng√¢n h√†ng Li√™n doanh Vi·ªát Nga (VRB)</option>
                                        <option value="ANZ">Ng√¢n h√†ng TNHH MTV ANZ Vi·ªát Nam (ANZ)</option>
                                        <option value="HSBC">Ng√¢n h√†ng TNHH MTV HSBC Vi·ªát Nam (HSBC)</option>
                                        <option value="Standard Chartered">Ng√¢n h√†ng TNHH MTV Standard Chartered Vi·ªát Nam (Standard Chartered)</option>
                                        <option value="Shinhan Bank">Ng√¢n h√†ng TNHH MTV Shinhan Vi·ªát Nam (Shinhan Bank)</option>
                                        <option value="CIMB">Ng√¢n h√†ng TNHH MTV CIMB Vi·ªát Nam (CIMB)</option>
                                        <option value="Public Bank">Ng√¢n h√†ng TNHH MTV Public Bank Vi·ªát Nam (Public Bank)</option>
                                        <option value="Woori Bank">Ng√¢n h√†ng TNHH MTV Woori Vi·ªát Nam (Woori Bank)</option>
                                        <option value="UOB">Ng√¢n h√†ng TNHH MTV UOB Vi·ªát Nam (UOB)</option>
                                        <option value="Hong Leong Bank">Ng√¢n h√†ng TNHH MTV Hong Leong Vi·ªát Nam (Hong Leong Bank)</option>
                                    </select>
                                </div>

                                <!-- S·ªë ti·ªÅn n·∫°p t·ªëi thi·ªÉu -->
                                <div class="mb-3">
                                    <label for="input-minNap" class="form-label">S·ªë ti·ªÅn n·∫°p t·ªëi thi·ªÉu</label>
                                    <input type="number" class="form-control" name="minNap" id="input-minNap" required>
                                </div>

                                <!-- Tr·∫°ng th√°i -->
                                <div class="mb-3">
                                    <label for="select-status-bank" class="form-label">Tr·∫°ng th√°i</label>
                                    <select class="form-select" name="status" id="select-status-bank" required>
                                        <option disabled selected>Ch·ªçn tr·∫°ng th√°i</option>
                                        <option value="hoatdong">Ho·∫°t ƒë·ªông</option>
                                        <option value="dunghoatdong">D·ª´ng ho·∫°t ƒë·ªông</option>
                                    </select>
                                </div>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-success" id="btnAddBank">Th√™m</button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Modal s·ª≠a ng√¢n h√†ng -->
            <div class="modal fade" id="modalEditBank" tabindex="-1" aria-labelledby="modalEditBankLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">
                        <form id="formEditBankAjax">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalEditBankLabel">S·ª≠a t√†i kho·∫£n ng√¢n h√†ng</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
                            </div>

                            <div class="modal-body">
                                <input type="hidden" id="edit-bank-id">

                                <!-- Ch·ªß t√†i kho·∫£n -->
                                <div class="mb-3">
                                    <label for="edit-ctk" class="form-label">Ch·ªß t√†i kho·∫£n</label>
                                    <input type="text" class="form-control" id="edit-ctk" name="ctk" required>
                                </div>

                                <!-- S·ªë t√†i kho·∫£n -->
                                <div class="mb-3">
                                    <label for="edit-stk" class="form-label">S·ªë t√†i kho·∫£n</label>
                                    <input type="text" class="form-control" id="edit-stk" name="stk" required>
                                </div>

                                <!-- Ng√¢n h√†ng -->
                                <div class="mb-3">
                                    <label for="edit-nganHang" class="form-label">Ng√¢n h√†ng</label>
                                    <select class="form-select" id="edit-nganHang" name="ngangHang" required>
                                        <option disabled selected>Ch·ªçn ng√¢n h√†ng</option>
                                        <option value="Agribank">Ng√¢n h√†ng N√¥ng nghi·ªáp v√† Ph√°t tri·ªÉn N√¥ng th√¥n Vi·ªát Nam (Agribank)</option>
                                        <option value="Vietcombank">Ng√¢n h√†ng TMCP Ngo·∫°i th∆∞∆°ng Vi·ªát Nam (Vietcombank)</option>
                                        <option value="VietinBank">Ng√¢n h√†ng TMCP C√¥ng th∆∞∆°ng Vi·ªát Nam (VietinBank)</option>
                                        <option value="BIDV">Ng√¢n h√†ng TMCP ƒê·∫ßu t∆∞ v√† Ph√°t tri·ªÉn Vi·ªát Nam (BIDV)</option>
                                        <option value="ACB">Ng√¢n h√†ng TMCP √Å Ch√¢u (ACB)</option>
                                        <option value="Techcombank">Ng√¢n h√†ng TMCP K·ªπ Th∆∞∆°ng Vi·ªát Nam (Techcombank)</option>
                                        <option value="MB">Ng√¢n h√†ng TMCP Qu√¢n ƒê·ªôi (MB)</option>
                                        <option value="Sacombank">Ng√¢n h√†ng TMCP S√†i G√≤n Th∆∞∆°ng T√≠n (Sacombank)</option>
                                        <option value="VPBank">Ng√¢n h√†ng TMCP Vi·ªát Nam Th·ªãnh V∆∞·ª£ng (VPBank)</option>
                                        <option value="HDBank">Ng√¢n h√†ng TMCP Ph√°t tri·ªÉn TP.HCM (HDBank)</option>
                                        <option value="SHB">Ng√¢n h√†ng TMCP S√†i G√≤n ‚Äì H√† N·ªôi (SHB)</option>
                                        <option value="SeABank">Ng√¢n h√†ng TMCP ƒê√¥ng Nam √Å (SeABank)</option>
                                        <option value="VIB">Ng√¢n h√†ng TMCP Qu·ªëc t·∫ø Vi·ªát Nam (VIB)</option>
                                        <option value="TPBank">Ng√¢n h√†ng TMCP Ti√™n Phong (TPBank)</option>
                                        <option value="OCB">Ng√¢n h√†ng TMCP Ph∆∞∆°ng ƒê√¥ng (OCB)</option>
                                        <option value="Eximbank">Ng√¢n h√†ng TMCP Xu·∫•t Nh·∫≠p Kh·∫©u Vi·ªát Nam (Eximbank)</option>
                                        <option value="LienVietPostBank">Ng√¢n h√†ng TMCP B∆∞u ƒëi·ªán Li√™n Vi·ªát (LienVietPostBank)</option>
                                        <option value="SCB">Ng√¢n h√†ng TMCP S√†i G√≤n (SCB)</option>
                                        <option value="MSB">Ng√¢n h√†ng TMCP H√†ng H·∫£i Vi·ªát Nam (MSB)</option>
                                        <option value="DongA Bank">Ng√¢n h√†ng TMCP ƒê√¥ng √Å (DongA Bank)</option>
                                        <option value="Nam A Bank">Ng√¢n h√†ng TMCP Nam √Å (Nam A Bank)</option>
                                        <option value="VietABank">Ng√¢n h√†ng TMCP Vi·ªát √Å (VietABank)</option>
                                        <option value="NCB">Ng√¢n h√†ng TMCP Qu·ªëc d√¢n (NCB)</option>
                                        <option value="Vietbank">Ng√¢n h√†ng TMCP Vi·ªát Nam Th∆∞∆°ng T√≠n (Vietbank)</option>
                                        <option value="ABBANK">Ng√¢n h√†ng TMCP An B√¨nh (ABBANK)</option>
                                        <option value="Bac A Bank">Ng√¢n h√†ng TMCP B·∫Øc √Å (Bac A Bank)</option>
                                        <option value="BaoViet Bank">Ng√¢n h√†ng TMCP B·∫£o Vi·ªát (BaoViet Bank)</option>
                                        <option value="PG Bank">Ng√¢n h√†ng TMCP XƒÉng d·∫ßu Petrolimex (PG Bank)</option>
                                        <option value="PVcomBank">Ng√¢n h√†ng TMCP ƒê·∫°i Ch√∫ng Vi·ªát Nam (PVcomBank)</option>
                                        <option value="Viet Capital Bank">Ng√¢n h√†ng TMCP B·∫£n Vi·ªát (Viet Capital Bank)</option>
                                        <option value="Saigonbank">Ng√¢n h√†ng TMCP S√†i G√≤n C√¥ng Th∆∞∆°ng (Saigonbank)</option>
                                        <option value="OceanBank">Ng√¢n h√†ng TNHH MTV ƒê·∫°i D∆∞∆°ng (OceanBank)</option>
                                        <option value="GPBank">Ng√¢n h√†ng TNHH MTV D·∫ßu kh√≠ To√†n C·∫ßu (GPBank)</option>
                                        <option value="CB">Ng√¢n h√†ng TNHH MTV X√¢y d·ª±ng Vi·ªát Nam (CB)</option>
                                        <option value="VBSP">Ng√¢n h√†ng Ch√≠nh s√°ch x√£ h·ªôi Vi·ªát Nam (VBSP)</option>
                                        <option value="VDB">Ng√¢n h√†ng Ph√°t tri·ªÉn Vi·ªát Nam (VDB)</option>
                                        <option value="Co-opBank">Ng√¢n h√†ng H·ª£p t√°c x√£ Vi·ªát Nam (Co-opBank)</option>
                                        <option value="Indovina Bank">Ng√¢n h√†ng TNHH Indovina (Indovina Bank)</option>
                                        <option value="VRB">Ng√¢n h√†ng Li√™n doanh Vi·ªát Nga (VRB)</option>
                                        <option value="ANZ">Ng√¢n h√†ng TNHH MTV ANZ Vi·ªát Nam (ANZ)</option>
                                        <option value="HSBC">Ng√¢n h√†ng TNHH MTV HSBC Vi·ªát Nam (HSBC)</option>
                                        <option value="Standard Chartered">Ng√¢n h√†ng TNHH MTV Standard Chartered Vi·ªát Nam (Standard Chartered)</option>
                                        <option value="Shinhan Bank">Ng√¢n h√†ng TNHH MTV Shinhan Vi·ªát Nam (Shinhan Bank)</option>
                                        <option value="CIMB">Ng√¢n h√†ng TNHH MTV CIMB Vi·ªát Nam (CIMB)</option>
                                        <option value="Public Bank">Ng√¢n h√†ng TNHH MTV Public Bank Vi·ªát Nam (Public Bank)</option>
                                        <option value="Woori Bank">Ng√¢n h√†ng TNHH MTV Woori Vi·ªát Nam (Woori Bank)</option>
                                        <option value="UOB">Ng√¢n h√†ng TNHH MTV UOB Vi·ªát Nam (UOB)</option>
                                        <option value="Hong Leong Bank">Ng√¢n h√†ng TNHH MTV Hong Leong Vi·ªát Nam (Hong Leong Bank)</option>
                                    </select>
                                </div>

                                <!-- Min n·∫°p -->
                                <div class="mb-3">
                                    <label for="edit-minNap" class="form-label">S·ªë ti·ªÅn n·∫°p t·ªëi thi·ªÉu</label>
                                    <input type="number" class="form-control" id="edit-minNap" name="minNap" required>
                                </div>

                                <!-- Tr·∫°ng th√°i -->
                                <div class="mb-3">
                                    <label for="edit-status" class="form-label">Tr·∫°ng th√°i</label>
                                    <select class="form-select" id="edit-status" name="status" required>
                                        <option value="hoatdong">Ho·∫°t ƒë·ªông</option>
                                        <option value="dunghoatdong">D·ª´ng ho·∫°t ƒë·ªông</option>
                                    </select>
                                </div>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" id="btnUpdateBank">C·∫≠p nh·∫≠t</button>
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <!-- jQuery + SweetAlert2 -->
            <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

            <script>
                $("#btnAddBank").on("click", function (event) {
                    event.preventDefault();
                    $('#btnAddBank').html('<i class="fa fa-spinner fa-spin"></i> ƒêang x·ª≠ l√Ω...').prop('disabled', true);

                    // L·∫•y d·ªØ li·ªáu t·ª´ form
                    const ctk = $("#input-ctk").val().trim();
                    const stk = $("#input-stk").val().trim();
                    const ngangHang = $("#select-nganHang").val();
                    const minNap = $("#input-minNap").val().trim();
                    const status = $("#select-status-bank").val();

                    // Ki·ªÉm tra thi·∫øu th√¥ng tin b·∫Øt bu·ªôc
                    if (!ctk || !stk || !ngangHang || !minNap || !status) {
                        Swal.fire({
                            title: "Thi·∫øu th√¥ng tin",
                            icon: "warning",
                            text: "Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß c√°c tr∆∞·ªùng b·∫Øt bu·ªôc!",
                            customClass: {
                                confirmButton: "btn btn-warning"
                            }
                        });
                        $('#btnAddBank').html('Th√™m').prop('disabled', false);
                        return;
                    }

                    // T·∫°o object d·ªØ li·ªáu
                    const formData = {
                        ctk: ctk,
                        stk: stk,
                        ngangHang: ngangHang,
                        minNap: minNap,
                        status: status
                    };

                    // G·ª≠i POST t·ªõi Controller
                    $.post("/admin/topup/add", formData, function (data) {
                        if (data.status === 'success') {
                            Swal.fire({
                                title: "Th√†nh c√¥ng",
                                icon: "success",
                                text: data.msg,
                                customClass: {
                                    confirmButton: "btn btn-primary"
                                }
                            });
                            setTimeout(function () {
                                window.location.reload();
                            }, 1500);
                        } else {
                            Swal.fire({
                                title: "L·ªói",
                                icon: "error",
                                text: data.msg,
                                customClass: {
                                    confirmButton: "btn btn-danger"
                                }
                            });
                        }
                        $('#btnAddBank').html('Th√™m').prop('disabled', false);
                    }, "json").fail(function () {
                        Swal.fire({
                            title: "L·ªói server",
                            icon: "error",
                            text: "Kh√¥ng th·ªÉ g·ª≠i y√™u c·∫ßu ƒë·∫øn m√°y ch·ªß.",
                            customClass: {
                                confirmButton: "btn btn-danger"
                            }
                        });
                        $('#btnAddBank').html('Th√™m').prop('disabled', false);
                    });
                });

                $(document).on("click", ".edit-bank", function () {
                    const row = $(this).closest("tr");

                    $("#edit-bank-id").val(row.data("id"));
                    $("#edit-ctk").val(row.data("ctk"));
                    $("#edit-stk").val(row.data("stk"));
                    $("#edit-nganHang").val(row.data("ngan-hang"));
                    $("#edit-minNap").val(row.data("min-nap"));
                    $("#edit-status").val(row.data("status"));

                    $("#modalEditBank").modal("show");
                });

                $("#btnUpdateBank").on("click", function () {
                    const id = $("#edit-bank-id").val();
                    const formData = {
                        ctk: $("#edit-ctk").val().trim(),
                        stk: $("#edit-stk").val().trim(),
                        ngangHang: $("#edit-nganHang").val(),
                        minNap: $("#edit-minNap").val().trim(),
                        status: $("#edit-status").val()
                    };

                    if (!formData.ctk || !formData.stk || !formData.ngangHang || !formData.minNap || !formData.status) {
                        Swal.fire("Thi·∫øu th√¥ng tin", "Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin.", "warning");
                        return;
                    }

                    $.post(`/admin/topup/update/${id}`, formData, function (data) {
                        if (data.status === "success") {
                            Swal.fire("Th√†nh c√¥ng", data.msg, "success");
                            setTimeout(() => window.location.reload(), 1500);
                        } else {
                            Swal.fire("L·ªói", data.msg, "error");
                        }
                    }).fail(() => {
                        Swal.fire("L·ªói server", "Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t d·ªØ li·ªáu.", "error");
                    });
                });

                $(document).on("click", ".delete-bank", function () {
                    const bankId = $(this).data("id");

                    Swal.fire({
                        title: "X√°c nh·∫≠n xo√°",
                        text: "B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° t√†i kho·∫£n ng√¢n h√†ng n√†y?",
                        icon: "warning",
                        showCancelButton: true,
                        confirmButtonText: "Xo√°",
                        cancelButtonText: "H·ªßy",
                        customClass: {
                            confirmButton: "btn btn-danger",
                            cancelButton: "btn btn-secondary"
                        },
                        buttonsStyling: false
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $.ajax({
                                url: `/admin/topup/delete/${bankId}`,
                                method: "DELETE",
                                success: function (data) {
                                    if (data.status === "success") {
                                        Swal.fire("ƒê√£ xo√°", data.msg, "success");
                                        setTimeout(() => window.location.reload(), 1500);
                                    } else {
                                        Swal.fire("L·ªói", data.msg, "error");
                                    }
                                },
                                error: function () {
                                    Swal.fire("L·ªói server", "Kh√¥ng th·ªÉ xo√° d·ªØ li·ªáu.", "error");
                                }
                            });
                        }
                    });
                });

                $(document).ready(function () {
                    $("#search").on("input", function () {
                        const keyword = $(this).val().toLowerCase().trim();

                        $(".bank-row").each(function () {
                            const ctk = $(this).find(".ctk").text().toLowerCase();
                            const stk = $(this).find(".stk").text().toLowerCase();

                            const match = ctk.includes(keyword) || stk.includes(keyword);

                            if (match) {
                                $(this).show();
                            } else {
                                $(this).hide();
                            }
                        });
                    });
                });

                $(document).ready(function () {
                    $("#bank-filter").on("change", function () {
                        const selectedBank = $(this).val().toLowerCase().trim();

                        $(".bank-row").each(function () {
                            const bankName = $(this).find(".nganHang").text().toLowerCase().trim();

                            const match = !selectedBank || bankName === selectedBank;

                            if (match) {
                                $(this).show();
                            } else {
                                $(this).hide();
                            }
                        });
                    });
                });

                $(document).ready(function () {
                    $("#btnReloadBank").on("click", function () {
                        // Reset gi√° tr·ªã c√°c filter v·ªÅ m·∫∑c ƒë·ªãnh
                        $("#search").val("");
                        $("#bank-filter").val("");
                        $("#status-filter").val("");

                        // Hi·ªán t·∫•t c·∫£ c√°c d√≤ng trong b·∫£ng
                        $(".bank-row").show();
                    });
                });

                $("#status-filter").on("change", function () {
                    const selectedStatus = $(this).val().toLowerCase().trim();

                    $(".bank-row").each(function () {
                        const rowStatus = $(this).find(".status").data("status"); // ‚úÖ d√πng data-status

                        const match = !selectedStatus || rowStatus === selectedStatus;

                        if (match) {
                            $(this).show();
                        } else {
                            $(this).hide();
                        }
                    });
                });

            </script>
















                </div>




        <div th:replace="~{app/footer :: footer}"></div>
    </div>
</div>
<div th:replace="~{app/script :: script}"></div>
</body>
</html>